[27.03.24, 23:19]
В OpenAlexAPI разрешено делать не более 10 запросов в секунду, так что (на данный момент) максимальное число потоков: 5-6


[29.03.24, 10:15]
Скорость работы разных частей программы (api-запросы, работа с БД и прочее) очень сильно зависит от компа, так что и максимальное число потоков у каждого своё. В общем то, наверное, нет смысла гнаться за оптимальностью, т.к. всё равно закачка не идёт нонстоп. Поэтому пока что ставлю число потоков = 4.


[31.03.24, 13:44]
Касательно роста числа работ по мере увеличения уровня (level)
- Закачку работ следующего уровня оптимально начинать с закачки cite_works, т.к. число скачанных работ за 1 реквест в среднем больше 1, когда как для ref_works это число равно 1. Среди cite_works будет много статей, которые в списке ref_works, поэтому лучше сначала скачать их, а затем оставшиеся ref_works
- Число ref_works можно довольно точно посчитать (т.к. все id даны), а вот число cite_works до закачки всех статей посчитать нельзя
- Для оценки можно использовать сумму cited_by_count по всем статьям данного уровня
- Я посчитал разные штуки и запишу их сюда:
Сумма cited_by_count для level=1: 295,934
Сумма cited_by_count для level=2: 89,025,660
Сумма длин ref_list-ов для level=1: 8,670,109
Сумма длин ref_list-ов для level=2: 325,505,674
Реальное число работ с level=2: 519,154
Число ref_works (без повторений, ПОСЛЕ добавления cite_works) для level=1: около 360,000
Число ref_works (без повторений, ДО добавления cite_works) для level=2: 7,891,107  (не считая тех, что в базе; их 404,467)
Т.е. настоящий ref_list для level=1 (без повт., после cite) содержал в 24 раза меньше работ, чем грубейшая оценка
На данный момент оценка для числа работ с level=3: около 15 млн